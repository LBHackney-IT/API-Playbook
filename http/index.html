<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/API-Playbook/blog/rss.xml" title="Hackney API Playbook Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/API-Playbook/blog/atom.xml" title="Hackney API Playbook Blog Atom Feed"><title data-react-helmet="true">HTTP | Hackney API Playbook</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="HTTP | Hackney API Playbook"><meta data-react-helmet="true" name="description" content="MUST Use REST Maturity Level 2"><meta data-react-helmet="true" property="og:description" content="MUST Use REST Maturity Level 2"><meta data-react-helmet="true" property="og:url" content="https://lbhackney-it.github.io/API-Playbook/API-Playbook/http"><link data-react-helmet="true" rel="shortcut icon" href="/API-Playbook/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://lbhackney-it.github.io/API-Playbook/API-Playbook/http"><link rel="stylesheet" href="/API-Playbook/styles.ed6e5456.css">
<link rel="stylesheet" href="/API-Playbook/main.1d49de7e.css">
<link rel="preload" href="/API-Playbook/styles.fb3c51b3.js" as="script">
<link rel="preload" href="/API-Playbook/runtime~main.bba56771.js" as="script">
<link rel="preload" href="/API-Playbook/main.d4666b9e.js" as="script">
<link rel="preload" href="/API-Playbook/1.b80a789f.js" as="script">
<link rel="preload" href="/API-Playbook/2.7352a010.js" as="script">
<link rel="preload" href="/API-Playbook/62.ceb7d1c3.js" as="script">
<link rel="preload" href="/API-Playbook/935f2afb.12fa2ca2.js" as="script">
<link rel="preload" href="/API-Playbook/17896441.1a6ae099.js" as="script">
<link rel="preload" href="/API-Playbook/35408621.78a871c8.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/API-Playbook/"><img src="/API-Playbook/img/logo-long.svg" alt="API Playbook" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/API-Playbook/img/logo-long.svg" alt="API Playbook" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">API Playbook</strong></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/LBHackney-IT/API-Playbook" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/API-Playbook/"><img src="/API-Playbook/img/logo-long.svg" alt="API Playbook" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/API-Playbook/img/logo-long.svg" alt="API Playbook" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">API Playbook</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://github.com/LBHackney-IT/API-Playbook" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">HTTP</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="must-use-rest-maturity-level-2"></a>MUST Use REST Maturity Level 2<a class="hash-link" href="#must-use-rest-maturity-level-2" title="Direct link to heading">#</a></h2><p>We strive for a good implementation of <a href="http://martinfowler.com/articles/richardsonMaturityModelhtml#level2" target="_blank" rel="noopener noreferrer">REST Maturity Level 2</a> as it enables us to build resource-oriented APIs that make full use of HTTP verbs and status codes. You can see this expressed by many rules throughout these guidelines, e.g.:</p><ul><li><p><a href="/API-Playbook/resources#must-avoid-actions--think-about-resources">Avoid Actions â€” Think About Resources</a></p></li><li><p><a href="/API-Playbook/resources#must-keep-urls-verb-free">MUST Keep URLs Verb-Free</a></p></li><li><p><a href="#must-use-http-methods-correctly">MUST Use HTTP Methods Correctly</a></p></li><li><p><a href="#must-use-standard-http-status-codes">MUST Use Standard HTTP Status Codes</a></p></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="must-use-http-methods-correctly"></a>MUST Use HTTP Methods Correctly<a class="hash-link" href="#must-use-http-methods-correctly" title="Direct link to heading">#</a></h2><p>Be compliant with the standardized HTTP method semantics summarized as follows:</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="get"></a>GET<a class="hash-link" href="#get" title="Direct link to heading">#</a></h3><p>GET requests are used to <strong>read</strong> either a single or a collection resource.</p><ul><li><p>GET requests for individual resources will usually generate a 404 if the resource does not exist</p></li><li><p>GET requests for collection resources may return either 200 (if the collection is empty) or 404 (if the collection is missing)</p></li><li><p>GET requests must NOT have a request body payload</p></li></ul><p><strong>Note:</strong> GET requests on collection resources should provide sufficient filter and <a href="/API-Playbook/pagination">pagination</a> mechanisms.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="put"></a>PUT<a class="hash-link" href="#put" title="Direct link to heading">#</a></h3><p>PUT requests are used to <strong>update entire</strong> resources. The semantic is best described as <em>&quot;please put the enclosed representation at the resource mentioned by the URL, replacing any existing resource.&quot;</em>.</p><ul><li><p>PUT requests are usually applied to single resources, and not to collection resources, as this would imply replacing the entire collection</p></li><li><p>PUT requests are usually robust against non-existence of resources by implicitly creating before updating</p></li><li><p>on successful PUT requests, the server will <strong>replace the entire resource</strong> addressed by the URL with the representation passed in the payload (subsequent reads will deliver the same payload)</p></li><li><p>successful PUT requests will usually generate 200 or 204 (if the resource was updated - with or without actual content returned), and 201 (if the resource was created)</p></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="post"></a>POST<a class="hash-link" href="#post" title="Direct link to heading">#</a></h3><p>POST requests are idiomatically used to <strong>create</strong> single resources on a collection resource endpoint, but other semantics on single resources endpoint are possible. The semantic for collection endpoints is best described as <em>&quot;please add the enclosed representation to the collection resource identified by the URL&quot;</em>.</p><ul><li><p>on a successful POST request, the server will create one or multiple new resources and provide their URI/URLs in the response</p></li><li><p>successful POST requests will usually generate 200 (if resources have been updated), 201 (if resources have been created), and 202 (if the request was accepted but has not been finished yet)</p></li></ul><p>The semantic for single resource endpoints is best described as <em>&quot;please execute the given well specified request on the resource identified by the URL&quot;</em>.</p><p><strong>Generally:</strong> POST should be used for scenarios that cannot be covered by the other methods sufficiently. In such cases, make sure to document the fact that POST is used as a workaround.</p><p><strong>Note:</strong> Resource IDs with respect to POST requests are created and maintained by server and returned with response payload.</p><p><strong>Tip:</strong> Posting the same resource twice is by itself <strong>not</strong> required to be <em>idempotent</em> and may result in multiple resource instances.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="patch"></a>PATCH<a class="hash-link" href="#patch" title="Direct link to heading">#</a></h3><p>PATCH requests are used to <strong>update parts</strong> of single resources, i.e. where only a specific subset of resource fields should be replaced. The semantic is best described as <em>&quot;please change the resource identified by the URL according to my change request&quot;</em>. The semantic of the change request is not defined in the HTTP standard and must be described in the API specification by using suitable media types.</p><ul><li><p>PATCH requests are usually applied to single resources as patching entire collection is challenging</p></li><li><p>PATCH requests are usually not robust against non-existence of resource instances</p></li><li><p>on successful PATCH requests, the server will update parts of the resource addressed by the URL as defined by the change request in the payload</p></li><li><p>successful PATCH requests will usually generate 200 or 204 (if resources have been updated with or without updated content returned)</p></li></ul><p><strong>Note (To Be Clarified):</strong> since implementing PATCH correctly is a bit tricky, we strongly suggest to choose one and only one of the following patterns per endpoint.</p><ol><li><p>use PUT with complete objects to update a resource as long as feasible (i.e. do not use PATCH at all).</p></li><li><p>use PATCH with partial objects to only update parts of a resource, whenever possible. (This is basically <a href="https://tools.ietf.org/html/rfc7396" target="_blank" rel="noopener noreferrer">JSON Merge Patch</a>,a specialized media type <code>application/merge-patch+json</code> that is a partial resource representation.)</p></li><li><p>use PATCH with <a href="http://tools.ietf.org/html/rfc6902" target="_blank" rel="noopener noreferrer">JSON Patch</a>, a specialized media type <code>application/json-patch+json</code> that includes instructions on how to change the resource.</p></li><li><p>use POST (with a proper description of what is happening) instead of PATCH, if the request does not modify the resource in a way defined by the semantics of the media type.</p></li></ol><p>In practice <a href="https://tools.ietf.org/html/rfc7396" target="_blank" rel="noopener noreferrer">JSON Merge Patch</a> quickly turns out to be too limited, especially when trying to update single objects in large collections (as part of the resource). In this cases <a href="http://tools.ietf.org/html/rfc6902" target="_blank" rel="noopener noreferrer">JSON Patch</a> can shown its full power while still showing readable patch requests (see also <a href="http://erosb.github.io/post/json-patch-vs-merge-patch" target="_blank" rel="noopener noreferrer">JSON patch vs. merge</a>).</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="delete"></a>DELETE<a class="hash-link" href="#delete" title="Direct link to heading">#</a></h3><p>DELETE requests are used to <strong>delete</strong> resources. The semantic is best described as <em>&quot;please delete the resource identified by the URL&quot;</em>.</p><ul><li><p>DELETE requests are usually applied to single resources, not on collection resources, as this would imply deleting the entire collection</p></li><li><p>successful DELETE requests will usually generate 200 (if the deleted resource is returned) or 204 (if no content is returned)</p></li><li><p>failed DELETE requests will usually generate 404 (if the resource cannot be found) or 410 (if the resource was already deleted before)</p></li></ul><p><strong>Important:</strong> After deleting a resource with DELETE, a GET request on the resource is expected to either return 404 (not found) or 410 (gone) depending on how the resource is represented after deletion. Under no circumstances the resource must be accessible after this operation on its endpoint.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="must-use-content-headers-correctly"></a>MUST Use Content Headers Correctly<a class="hash-link" href="#must-use-content-headers-correctly" title="Direct link to heading">#</a></h2><p>Content or entity headers are headers with a <code>Content-</code> prefix. They describe the content of the body of the message and they can be used in both, HTTP requests and responses. Commonly used content headers include but are not limited to:</p><ul><li><p><a href="https://tools.ietf.org/html/rfc6266" target="_blank" rel="noopener noreferrer"><code>Content-Disposition</code></a> can indicate that the representation is supposed to be saved as a file, and the proposed file name.</p></li><li><p><a href="https://tools.ietf.org/html/rfc7231#section-3.1.2.2" target="_blank" rel="noopener noreferrer"><code>Content-Encoding</code></a> indicates compression or encryption algorithms applied to the content.</p></li><li><p><a href="https://tools.ietf.org/html/rfc7230#section-3.3.2" target="_blank" rel="noopener noreferrer"><code>Content-Length</code></a> indicates the length of the content (in bytes).</p></li><li><p><a href="https://tools.ietf.org/html/rfc7231#section-3.1.3.2" target="_blank" rel="noopener noreferrer"><code>Content-Language</code></a> indicates that the body is meant for people literate in some human language(s).</p></li><li><p><a href="https://tools.ietf.org/html/rfc7231#section-3.1.4.2" target="_blank" rel="noopener noreferrer"><code>Content-Location</code></a> indicates where the body can be found otherwise.</p></li><li><p><a href="https://tools.ietf.org/html/rfc7233#section-4.2" target="_blank" rel="noopener noreferrer"><code>Content-Range</code></a> is used in responses to range requests to indicate which part of the requested resource representation is delivered with the body.</p></li><li><p><a href="https://tools.ietf.org/html/rfc7231#section-3.1.1.5" target="_blank" rel="noopener noreferrer"><code>Content-Type</code></a> indicates the media type of the body content.</p></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="may-use-other-standardized-headers"></a>MAY Use Other Standardized Headers<a class="hash-link" href="#may-use-other-standardized-headers" title="Direct link to heading">#</a></h2><p>Use <a href="http://en.wikipedia.org/wiki/List_of_HTTP_header_fields" target="_blank" rel="noopener noreferrer">this list</a> and mention its support in your OpenAPI definition.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="must-fulfill-safeness-and-idempotency-properties"></a>MUST Fulfill Safeness and Idempotency Properties<a class="hash-link" href="#must-fulfill-safeness-and-idempotency-properties" title="Direct link to heading">#</a></h2><p>An operation can be...</p><ul><li><p>idempotent, i.e. operation will have the same effect on the serverâ€™s state if executed once or multiple times (note: this does not necessarily mean returning the same response or status code)</p></li><li><p>safe, i.e. must not have side effects such as state changes</p></li></ul><p>Method implementations must fulfill the following basic properties:</p><table><thead><tr><th>HTTP method</th><th>safe</th><th>idempotent</th></tr></thead><tbody><tr><td>GET</td><td>Yes</td><td>Yes</td></tr><tr><td>PUT</td><td>No</td><td>Yes</td></tr><tr><td>POST</td><td>No</td><td>No</td></tr><tr><td>DELETE</td><td>No</td><td>Yes</td></tr><tr><td>PATCH</td><td>No</td><td>No</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="should-define-collection-format-of-query-parameters-and-headers"></a>SHOULD Define Collection Format of Query Parameters and Headers<a class="hash-link" href="#should-define-collection-format-of-query-parameters-and-headers" title="Direct link to heading">#</a></h2><p>Sometimes, query parameters and headers may allow users to provide a list of values by providing a comma-separated list (<code>csv</code>). The API specification should explicitly define the type as follows:</p><table><thead><tr><th>Description</th><th>OpenAPI 3.0</th><th>Example</th></tr></thead><tbody><tr><td>Comma separated values</td><td><code>style: form, explode: false</code></td><td><code>?param=value1,value2</code></td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="must-document-implicit-filtering"></a>MUST Document Implicit Filtering<a class="hash-link" href="#must-document-implicit-filtering" title="Direct link to heading">#</a></h2><p>Sometimes certain collection resources or queries will not list all the possible elements they have, but only those for which the current client is authorized to access.</p><p>Implicit filtering could be done on:</p><ul><li><p>the collection of resources being returned on a parent <code>GET</code> request</p></li><li><p>the fields returned for the resourceâ€™s detail</p></li></ul><p>In such cases, the implicit filtering must be in the API Specification (in its description):</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-yaml codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token key atrule">paths</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">/business-partner</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">get</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">description</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        Get the list of registered business partner.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        Only the business partners to which you have access to are returned.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="must-specify-success-and-error-responses"></a>MUST Specify Success and Error Responses<a class="hash-link" href="#must-specify-success-and-error-responses" title="Direct link to heading">#</a></h2><p>APIs should define the functional, business view and abstract from implementation aspects. Success and error responses are a vital part to define how an API is used correctly.</p><p>Therefore, you must define <strong>all</strong> success and service specific error responses in your API specification. Both are part of the interface definition and provide important information for service clients to handle standard as well as exceptional situations.</p><p><strong>Hint:</strong> In most cases it is not useful to document all technical errors, especially if they are not under control of the service provider. Thus unless a response code conveys application-specific functional semantics or is used in a none standard way that requires additional explanation, multiple error response specifications can be combined using the following pattern:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-yaml codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token key atrule">responses</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">...</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">default</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">description</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> error occurred </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> see status code and problem object for more information.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">content</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">&quot;application/problem+json&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">schema</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token key atrule">$ref</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;https://github.io/problem/schema.yaml#/Problem&#x27;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>API designers should also think about a <strong>troubleshooting board</strong> as part of the associated online API documentation. It provides information and handling guidance on application-specific errors and is referenced via links from the API specification. This can reduce service support tasks and contribute to service client and provider performance.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="must-use-standard-http-status-codes"></a>MUST Use Standard HTTP Status Codes<a class="hash-link" href="#must-use-standard-http-status-codes" title="Direct link to heading">#</a></h2><p>You must only use standardized HTTP status codes consistently with their intended semantics. You must not invent new HTTP status codes.</p><p>RFC standards define ~60 different HTTP status codes with specific semantics (mainly <a href="https://tools.ietf.org/html/rfc7231#section-6" target="_blank" rel="noopener noreferrer">RFC7231</a> and <a href="https://tools.ietf.org/html/rfc6585" target="_blank" rel="noopener noreferrer">RFC-6585</a>) â€” and there are upcoming new ones, e.g. <a href="https://tools.ietf.org/html/draft-tbray-http-legally-restricted-status-05" target="_blank" rel="noopener noreferrer">draft legally-restricted-status</a>.See overview on all error codes on <a href="https://en.wikipedia.org/wiki/List_of_HTTP_status_codes" target="_blank" rel="noopener noreferrer">Wikipedia</a> or via <a href="https://httpstatuses.com/" target="_blank" rel="noopener noreferrer">https://httpstatuses.com/</a>) also inculding &#x27;unofficial codes&#x27;, e.g. used by popular web servers like Nginx.</p><p>Below we list the most commonly used and best understood HTTP status codes, consistent with their semantics in the RFCs. APIs should only use these to prevent misconceptions that arise from less commonly used HTTP status codes.</p><p><strong>Important:</strong> As long as your HTTP status code usage is well covered by the semantic defined here, you should not describe it to avoid an overload with common sense information and the risk of inconsistent definitions. Only if the HTTP status code is not in the list below or its usage requires additional information aside the well defined semantic, the API specification must provide a clear description of the HTTP status code in the response.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="success-codes"></a>Success Codes<a class="hash-link" href="#success-codes" title="Direct link to heading">#</a></h3><table><thead><tr><th>Code</th><th>Meaning</th><th>Methods</th></tr></thead><tbody><tr><td>200</td><td>OK - this is the standard success response</td><td>All</td></tr><tr><td>201</td><td>Created - Returned on successful entity creation. You are free to return either an empty response or the created resource in conjunction with the Location header. (More details found in <a href="#must-use-content-headers-correctly">common headers</a>.) <em>Always</em> set the Location header.</td><td>POST, PUT</td></tr><tr><td>202</td><td>Accepted - The request was successful and will be processed asynchronously.</td><td>POST, PUT, DELETE, PATCH</td></tr><tr><td>204</td><td>No content - There is no response body</td><td>PUT, DELETE, PATCH</td></tr><tr><td>207</td><td>Multi-Status - The response body contains multiple status informations for different parts of a batch/bulk request. See <a href="#must-use-code-207-for-batch-or-bulk-requests">MUST Use Code 207 for Batch or Bulk Requests</a>.</td><td>POST</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="redirection-codes"></a>Redirection Codes<a class="hash-link" href="#redirection-codes" title="Direct link to heading">#</a></h3><table><thead><tr><th>Code</th><th>Meaning</th><th>Methods</th></tr></thead><tbody><tr><td>301</td><td>Moved Permanently - This and all future requests should be directed to the given URI.</td><td>All</td></tr><tr><td>303</td><td>See Other - The response to the request can be found under another URI using a GET method.</td><td>PATCH, POST, PUT, DELETE</td></tr><tr><td>304</td><td>Not Modified - resource has not been modified since the date or version passed via request headers If-Modified-Since or If-None-Match.</td><td>GET</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="client-side-error-codes"></a>Client Side Error Codes<a class="hash-link" href="#client-side-error-codes" title="Direct link to heading">#</a></h3><table><thead><tr><th>Code</th><th>Meaning</th><th>Methods</th></tr></thead><tbody><tr><td>400</td><td>Bad request - generic / unknown error. Should also be delivered in case of input payload fails business logic validation.</td><td>All</td></tr><tr><td>401</td><td>Unauthorized - the users must log in (this often means &quot;Unauthenticated&quot;)</td><td>All</td></tr><tr><td>403</td><td>Forbidden - the user is not authorized to use this resource</td><td>All</td></tr><tr><td>404</td><td>Not found - the resource is not found</td><td>All</td></tr><tr><td>405</td><td>Method Not Allowed - the method is not supported</td><td>All</td></tr><tr><td>406</td><td>Not Acceptable - resource can only generate content not acceptable according to the Accept headers sent in the request</td><td>All</td></tr><tr><td>415</td><td>Unsupported Media Type - e.g. clients sends request body without content type</td><td>POST, PUT, DELETE, PATCH</td></tr><tr><td>429</td><td>Too many requests - the client does not consider rate limiting and sent too many requests. See <a href="#153">MUST Use Code 429 with Headers for Rate Limits</a>.</td><td>All</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="server-side-error-codes"></a>Server Side Error Codes:<a class="hash-link" href="#server-side-error-codes" title="Direct link to heading">#</a></h3><table><thead><tr><th>Code</th><th>Meaning</th><th>Methods</th></tr></thead><tbody><tr><td>500</td><td>Internal Server Error - a generic error indication for an unexpected server execution problem (here, client retry may be sensible)</td><td>All</td></tr><tr><td>503</td><td>Service Unavailable - service is (temporarily) not available (e.g. if a required component or downstream service is not available)â€‰â€”â€‰client retry may be sensible. If possible, the service should indicate how long the client should wait by setting the <a href="https://tools.ietf.org/html/rfc7231#section-7.1.3" target="_blank" rel="noopener noreferrer">&#x27;Retry-After&#x27;</a> header.</td><td>All</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="must-use-most-specific-http-status-codes"></a>MUST Use Most Specific HTTP Status Codes<a class="hash-link" href="#must-use-most-specific-http-status-codes" title="Direct link to heading">#</a></h2><p>You must use the most specific HTTP status code when returning information about your request processing status or error situations.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="must-use-code-207-for-batch-or-bulk-requests"></a>MUST Use Code 207 for Batch or Bulk Requests<a class="hash-link" href="#must-use-code-207-for-batch-or-bulk-requests" title="Direct link to heading">#</a></h2><p>Some APIs are required to provide either <em>batch</em> or <em>bulk</em> requests using POST for performance reasons, i.e. for communication and processing efficiency. In this case services may be in need to signal multiple response codes for each part of an batch or bulk request. As HTTP does not provide proper guidance for handling batch/bulk requests and responses, we herewith define the following approach:</p><ul><li><p>A batch or bulk request <strong>always</strong> has to respond with HTTP status code <strong>207</strong>, unless it encounters a generic or unexpected failure before looking at individual parts.</p></li><li><p>A batch or bulk response with status code 207 <strong>always</strong> returns a multi-status object containing sufficient status and/or monitoring information for each part of the batch or bulk request.</p></li><li><p>A batch or bulk request may result in a status code 400/500, only if the service encounters a failure before looking at individual parts or, if an unanticipated failure occurs.</p></li></ul><p>The before rules apply <em>even in the case</em> that processing of all individual part <em>fail</em> or each part is executed <em>asynchronously</em>! They are intended to allow clients to act on batch and bulk responses by inspecting the individual results in a consistent way.</p><p><strong>Note</strong>: while a <em>batch</em> defines a collection of requests triggering independent processes, a <em>bulk</em> defines a collection of independent resources created or updated together in one request. With respect to response processing this distinction normally does not matter.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="must-use-code-429-with-headers-for-rate-limits"></a>MUST Use Code 429 with Headers for Rate Limits<a class="hash-link" href="#must-use-code-429-with-headers-for-rate-limits" title="Direct link to heading">#</a></h2><p>APIs that wish to manage the request rate of clients must use the <a href="http://tools.ietf.org/html/rfc6585" target="_blank" rel="noopener noreferrer">&#x27;429 Too Many Requests&#x27;</a> response code if the client exceeded the request rate and therefore the request canâ€™t be fulfilled. Such responses must also contain header information providing further details to the client. There are two approaches a service can take for header information:</p><ul><li><p>Return a <a href="https://tools.ietf.org/html/rfc7231#section-7.1.3" target="_blank" rel="noopener noreferrer">&#x27;Retry-After&#x27;</a> header indicating how long the client ought to wait before making a follow-up request. The Retry-After header can contain a HTTP date value to retry after or the number of seconds to delay. Either is acceptable but APIs should prefer to use a delay in seconds.</p></li><li><p>Return a trio of &#x27;X-RateLimit&#x27; headers. These headers (described below) allow a server to express a service level in the form of a number of allowing requests within a given window of time and when the window is reset.</p></li></ul><p>The &#x27;X-RateLimit&#x27; headers are:</p><ul><li><p><code>X-RateLimit-Limit</code>: The maximum number of requests that the client is allowed to make in this window.</p></li><li><p><code>X-RateLimit-Remaining</code>: The number of requests allowed in the current window.</p></li><li><p><code>X-RateLimit-Reset</code>: The relative time in seconds when the rate limit window will be reset. <strong>Beware</strong> that this is different to Github and Twitterâ€™s usage of a header with the same name which is using UTC epoch seconds instead.</p></li></ul><p>The reason to allow both approaches is that APIs can have different needs. Retry-After is often sufficient for general load handling and request throttling scenarios and notably, does not strictly require the concept of a calling entity such as a tenant or named account. In turn this allows resource owners to minimise the amount of state they have to carry with respect to client requests. The &#x27;X-RateLimit&#x27; headers are suitable for scenarios where clients are associated with pre-existing account or tenancy structures. &#x27;X-RateLimit&#x27; headers are generally returned on every request and not just on a 429, which implies the service implementing the API is carrying sufficient state to track the number of requests made within a given window for each named entity.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/LBHackney-IT/API-Playbook/edit/master/docs/http.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#must-use-rest-maturity-level-2" class="table-of-contents__link">MUST Use REST Maturity Level 2</a></li><li><a href="#must-use-http-methods-correctly" class="table-of-contents__link">MUST Use HTTP Methods Correctly</a><ul><li><a href="#get" class="table-of-contents__link">GET</a></li><li><a href="#put" class="table-of-contents__link">PUT</a></li><li><a href="#post" class="table-of-contents__link">POST</a></li><li><a href="#patch" class="table-of-contents__link">PATCH</a></li><li><a href="#delete" class="table-of-contents__link">DELETE</a></li></ul></li><li><a href="#must-use-content-headers-correctly" class="table-of-contents__link">MUST Use Content Headers Correctly</a></li><li><a href="#may-use-other-standardized-headers" class="table-of-contents__link">MAY Use Other Standardized Headers</a></li><li><a href="#must-fulfill-safeness-and-idempotency-properties" class="table-of-contents__link">MUST Fulfill Safeness and Idempotency Properties</a></li><li><a href="#should-define-collection-format-of-query-parameters-and-headers" class="table-of-contents__link">SHOULD Define Collection Format of Query Parameters and Headers</a></li><li><a href="#must-document-implicit-filtering" class="table-of-contents__link">MUST Document Implicit Filtering</a></li><li><a href="#must-specify-success-and-error-responses" class="table-of-contents__link">MUST Specify Success and Error Responses</a></li><li><a href="#must-use-standard-http-status-codes" class="table-of-contents__link">MUST Use Standard HTTP Status Codes</a><ul><li><a href="#success-codes" class="table-of-contents__link">Success Codes</a></li><li><a href="#redirection-codes" class="table-of-contents__link">Redirection Codes</a></li><li><a href="#client-side-error-codes" class="table-of-contents__link">Client Side Error Codes</a></li><li><a href="#server-side-error-codes" class="table-of-contents__link">Server Side Error Codes:</a></li></ul></li><li><a href="#must-use-most-specific-http-status-codes" class="table-of-contents__link">MUST Use Most Specific HTTP Status Codes</a></li><li><a href="#must-use-code-207-for-batch-or-bulk-requests" class="table-of-contents__link">MUST Use Code 207 for Batch or Bulk Requests</a></li><li><a href="#must-use-code-429-with-headers-for-rate-limits" class="table-of-contents__link">MUST Use Code 429 with Headers for Rate Limits</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Made by HackIT.</div></div></div></footer></div>
<script src="/API-Playbook/styles.fb3c51b3.js"></script>
<script src="/API-Playbook/runtime~main.bba56771.js"></script>
<script src="/API-Playbook/main.d4666b9e.js"></script>
<script src="/API-Playbook/1.b80a789f.js"></script>
<script src="/API-Playbook/2.7352a010.js"></script>
<script src="/API-Playbook/62.ceb7d1c3.js"></script>
<script src="/API-Playbook/935f2afb.12fa2ca2.js"></script>
<script src="/API-Playbook/17896441.1a6ae099.js"></script>
<script src="/API-Playbook/35408621.78a871c8.js"></script>
</body>
</html>