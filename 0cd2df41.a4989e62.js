(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{141:function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return m}));var a=r(0),n=r.n(a);function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var s=n.a.createContext({}),b=function(e){var t=n.a.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):c(c({},t),e)),r},u=function(e){var t=b(e.components);return n.a.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.a.createElement(n.a.Fragment,{},t)}},d=n.a.forwardRef((function(e,t){var r=e.components,a=e.mdxType,l=e.originalType,o=e.parentName,s=i(e,["components","mdxType","originalType","parentName"]),u=b(r),d=a,m=u["".concat(o,".").concat(d)]||u[d]||p[d]||l;return r?n.a.createElement(m,c(c({ref:t},s),{},{components:r})):n.a.createElement(m,c({ref:t},s))}));function m(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var l=r.length,o=new Array(l);o[0]=d;var c={};for(var i in t)hasOwnProperty.call(t,i)&&(c[i]=t[i]);c.originalType=e,c.mdxType="string"==typeof e?e:a,o[1]=c;for(var s=2;s<l;s++)o[s]=r[s];return n.a.createElement.apply(null,o)}return n.a.createElement.apply(null,r)}d.displayName="MDXCreateElement"},203:function(e,t,r){"use strict";r.r(t),t.default=r.p+"assets/images/clean_architecture-5cfe76b73f45e6a45082570315a20e7b.png"},204:function(e,t,r){"use strict";r.r(t),t.default=r.p+"assets/images/request_workflow-7c3ddd07b924fe1f7b74eed744167b4b.png"},66:function(e,t,r){"use strict";r.r(t),r.d(t,"frontMatter",(function(){return o})),r.d(t,"metadata",(function(){return c})),r.d(t,"toc",(function(){return i})),r.d(t,"default",(function(){return b}));var a=r(3),n=r(7),l=(r(0),r(141)),o={id:"clean_architecture",title:"Clean Architecture"},c={unversionedId:"clean_architecture",id:"clean_architecture",isDocsHomePage:!1,title:"Clean Architecture",description:"Basic Principles",source:"@site/docs/clean_architecture.md",slug:"/clean_architecture",permalink:"/API-Playbook/clean_architecture",editUrl:"https://github.com/LBHackney-IT/API-Playbook/edit/master/docs/clean_architecture.md",version:"current",sidebar:"docs",previous:{title:"API Boilerplate - Base API",permalink:"/API-Playbook/api_boilerplate"},next:{title:"Serverless Lambda Framework",permalink:"/API-Playbook/serverless_lambda"}},i=[{value:"Basic Principles",id:"basic-principles",children:[]},{value:"Video",id:"video",children:[]},{value:"Base API Folder Structure",id:"base-api-folder-structure",children:[{value:"Type of Folders",id:"type-of-folders",children:[]},{value:"Explore Our Folders",id:"explore-our-folders",children:[]}]},{value:"Request Workflow",id:"request-workflow",children:[]},{value:"Good to Know",id:"good-to-know",children:[]}],s={toc:i};function b(e){var t=e.components,o=Object(n.a)(e,["components"]);return Object(l.b)("wrapper",Object(a.a)({},s,o,{components:t,mdxType:"MDXLayout"}),Object(l.b)("h2",{id:"basic-principles"},"Basic Principles"),Object(l.b)("p",null,Object(l.b)("strong",{parentName:"p"}," What is Clean Architecture?")),Object(l.b)("p",null,"Clean architecture is a software design philosophy that separates the elements of a design into ring levels.\nAn important goal of clean architecture is to provide developers with a way to organize code in such a way that it encapsulates the business logic but keeps it separate from the delivery mechanism."),Object(l.b)("p",null,"Clean architecture was created by Robert C. Martin and promoted on his blog, Uncle Bob.\nLike other software design philosophies, clean architecture attempts to provide a cost-effective methodology that makes it easier to develop quality code that will perform better, is easier to change and has fewer dependencies."),Object(l.b)("p",null," ",Object(l.b)("img",{alt:"Clean Architecture",src:r(203).default})),Object(l.b)("h2",{id:"video"},"Video"),Object(l.b)("p",null,Object(l.b)("strong",{parentName:"p"}," You can watch our video for a brief intro about Clean Architecture at Hackney Council: ")),Object(l.b)("figure",{class:"video-container"},Object(l.b)("iframe",{width:"100%",src:"https://www.youtube.com/embed/zhGG9jt4iBE",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0})),Object(l.b)("h2",{id:"base-api-folder-structure"},"Base API Folder Structure"),Object(l.b)("p",null,"We have 2 project folders:"),Object(l.b)("ol",null,Object(l.b)("li",{parentName:"ol"},"The actual project implementation"),Object(l.b)("li",{parentName:"ol"},"The Test Folder - which will mirror the implementation")),Object(l.b)("p",null,"If we look at our implementation Folder, we will notice that our code is structured into various code files and these files are all categorised, containing different subfolders."),Object(l.b)("h3",{id:"type-of-folders"},"Type of Folders"),Object(l.b)("p",null," ",Object(l.b)("strong",{parentName:"p"}," Behavioural Folders: "),"        "),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"Controller"),Object(l.b)("li",{parentName:"ul"},"Gateway"),Object(l.b)("li",{parentName:"ul"},"UseCase")),Object(l.b)("p",null,Object(l.b)("strong",{parentName:"p"}," Data Structure Folders: ")),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"Boundary"),Object(l.b)("li",{parentName:"ul"},"Domain"),Object(l.b)("li",{parentName:"ul"},"Factories"),Object(l.b)("li",{parentName:"ul"},"Infrastructure")),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-shell",metastring:'title="Folder Structure" {6,12,16}',title:'"Folder','Structure"':!0,"{6,12,16}":!0},".\n\u251c\u2500\u2500 BaseApi\n\u2502   \u251c\u2500\u2500 V1\n\u2502   \u2502   \u251c\u2500\u2500 Boundary\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 ..\n\u2502   \u2502   \u251c\u2500\u2500 Controllers\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 ..\n\u2502   \u2502   \u251c\u2500\u2500 Domain\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 ..\n\u2502   \u2502   \u251c\u2500\u2500 Factories\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 ..\n\u2502   \u2502   \u251c\u2500\u2500 Gateways\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 ..\n\u2502   \u2502   \u251c\u2500\u2500 Infrastructure\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 ..\n\u2502   \u2502   \u2514\u2500\u2500 UseCase\n\u2502   \u2502       \u2514\u2500\u2500 ..\n\u2502   \u2514\u2500\u2500 ..\n\u251c\u2500\u2500 BaseApi.Tests\n\u2502   \u2514\u2500\u2500 ..\n\u2514\u2500\u2500 ..\n")),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("em",{parentName:"li"},"The three highlighted lines above are the ",Object(l.b)("strong",{parentName:"em"},"behavioural")," folders"))),Object(l.b)("h3",{id:"explore-our-folders"},"Explore Our Folders"),Object(l.b)("ol",null,Object(l.b)("li",{parentName:"ol"},Object(l.b)("strong",{parentName:"li"},"Boundary"))),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"This folder will hold all of the structures of data that we will expect to get in return to the calling client"),Object(l.b)("li",{parentName:"ul"},"We use this folder to GET a Request or SEND a Response Make sure the way you structure the object response is clear and easy to understand")),Object(l.b)("ol",{start:2},Object(l.b)("li",{parentName:"ol"},Object(l.b)("strong",{parentName:"li"}," Controller "))),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"In this folder we set up the End Points for our APIs")),Object(l.b)("ol",{start:3},Object(l.b)("li",{parentName:"ol"},Object(l.b)("strong",{parentName:"li"}," Domain "))),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"This folder is used to manipulate data"),Object(l.b)("li",{parentName:"ul"},"In here we do any calculations within our app")),Object(l.b)("ol",{start:4},Object(l.b)("li",{parentName:"ol"},Object(l.b)("strong",{parentName:"li"}," Factories "))),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"In here we do our conversion from one type of data structure to the next one (e.g: convert a domain object to a response one)")),Object(l.b)("ol",{start:5},Object(l.b)("li",{parentName:"ol"},Object(l.b)("strong",{parentName:"li"}," Gateway "))),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"The responsability of the Gateway is to handle the interaction between your API and any external dependancies (such as another API or a Database)"),Object(l.b)("li",{parentName:"ul"},"Gateway also has to be able to manipulate data in some way")),Object(l.b)("ol",{start:6},Object(l.b)("li",{parentName:"ol"},Object(l.b)("strong",{parentName:"li"}," Infrastructure "))),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"In this folder, we set up the data structures that our Gateway will use")),Object(l.b)("ol",{start:7},Object(l.b)("li",{parentName:"ol"},Object(l.b)("strong",{parentName:"li"}," The UseCase "))),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"This is where we handle all of the behaviour/logic in our application.")),Object(l.b)("h2",{id:"request-workflow"},"Request Workflow"),Object(l.b)("p",null,Object(l.b)("img",{alt:"Request Workflow",src:r(204).default}),"\n",Object(l.b)("em",{parentName:"p"},"A simplified diagram of how we process requests in our APIs")),Object(l.b)("h2",{id:"good-to-know"},"Good to Know"),Object(l.b)("p",null,Object(l.b)("strong",{parentName:"p"}," Generally, in Gateway and Use Cases, we tend to have Interface Folders. ")),Object(l.b)("p",null,Object(l.b)("strong",{parentName:"p"}," Reasons: ")),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"When your API interacting with Boundaries, we don't interact with classes directly, but with the Interfaces"),Object(l.b)("li",{parentName:"ul"},"It makes the app more ",Object(l.b)("strong",{parentName:"li"},"testable")),Object(l.b)("li",{parentName:"ul"},"It allows us to do ",Object(l.b)("strong",{parentName:"li"},"dependancy injection")," (we can set up an interface and this gets injected in the app whenever it's needed)")),Object(l.b)("p",null,Object(l.b)("strong",{parentName:"p"}," MUST HAVE: ")),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"The Interface Folder defines the contract for your implementation"),Object(l.b)("li",{parentName:"ul"},"Any class that implements an Interface MUST have the 'Execute' method, otherwise your program won't compile properly")))}b.isMDXComponent=!0}}]);